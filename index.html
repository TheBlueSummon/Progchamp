<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
    content="width=device-width, initial-scale=1.0">
    <title>Progchamp</title>

    <link rel="stylesheet" href="styles.css" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <script src='https://cdnjs.cloudflare.com/ajax/libs/cytoscape/2.7.10/cytoscape.js'></script>
    <script src="clicks.js"></script>
</head>
<body>
    <header>
        <div class="logo">
            <img src="../gfx/pogchamp-twitch-own3d.png">
        </div>
        <form>
            <div class="search">
                <span class="search-icon material-symbols-outlined">search</span>
                <input class="search-input" type="search" placeholder="Search">
            </div>
        </form>
    </header>
    <main>
        <div class="toggle">
            <div class="toggle-options">
                Merge
                <div class="sep-line"></div>
                Sort
                <div class="sep-line"></div>
                Shell
            </div>
        </div>
        <div class="bulk">
            <div class="graph" id="langviz"></div>
            <div class="sep-line"></div>
            <div class="graph" id="repoviz"></div>
            <div class="info-box right smol" id="repo">
                <span class="material-symbols-outlined arrow" id = 'arrow2'>
                    keyboard_arrow_down
                    </span>
                <h1><u>Qutee.jl</u></h1>
                <p>This is dummy text for description/README.md placeholder.</p>
                <ul> <h3>Langauges used:</h3>
                    <li><b>69%</b> L1</li>
                    <li><b>42%</b> L2</li>
                </ul>
            </div>
            <div class="info-box left smol" id="lang">
   
                <span class="material-symbols-outlined arrow" id = 'arrow1'>
                    keyboard_arrow_down
                    </span>
                <h1><u>Julia</u></h1>
                <p>This is dummy text for when we figure out how to import language description.</p>
            </div>
        </div>
    </main>

    <!-- handle clicks -->
    <script>
        var arrow1 = document.getElementById('arrow1');
        var arrow2 = document.getElementById('arrow2');

        arrow1.addEventListener('click', function() {toggleIcon(arrow1);});
        arrow2.addEventListener('click', function() {toggleIcon(arrow2);});
    </script>

    <!-- visualizer -->
    <script>
        var la = cytoscape({
            container: document.getElementById('langviz'),
            elements: [
                { data: { id: 'a' } },
                { data: { id: '1' } },
                { data: { id: '2' } },
                { data: { id: '3' } },
                { data: { id: '4' } },
                { data: { id: '5' } },
                { data: { id: '6' } },
                { data: { id: '7' } },
                { data: { id: '8' } },
                { data: { id: '9' } },
                { data: { id: '10' } },
                {
                    data: {
                        id: 'a1',
                        source: 'a',
                        target: '1',
                    }
                },
                {
                    data: {
                        id: 'a2',
                        source: 'a',
                        target: '2',
                    }
                },
                {
                    data: {
                        id: 'a3',
                        source: 'a',
                        target: '3',
                    }
                },
                {
                    data: {
                        id: 'a4',
                        source: 'a',
                        target: '4',
                    }
                },
                {
                    data: {
                        id: 'a5',
                        source: 'a',
                        target: '5',
                    }
                },
                {
                    data: {
                        id: 'a6',
                        source: 'a',
                        target: '6',
                    }
                },
                {
                    data: {
                        id: 'a7',
                        source: 'a',
                        target: '7',
                    }
                },
                {
                    data: {
                        id: 'a8',
                        source: 'a',
                        target: '8',
                    }
                },
                {
                    data: {
                        id: 'a9',
                        source: 'a',
                        target: '9',
                    }
                },
                {
                    data: {
                        id: 'a10',
                        source: 'a',
                        target: '10',
                    }
                }],
            style : [
                {
                    selector: 'node',
                    style: {
                        shape: 'circle',
                        'background-color': 'blue',
                        label: 'data(id)'
                    }
                },
                {
                    selector: '#a',
                    style: {
                        shape: 'circle',
                        'background-color': '#FF9900',
                        label: 'bruh'
                    }
                }
            ],
            layout: {
                name: 'concentric'
            }
        });
        var re = cytoscape({
            container: document.getElementById('repoviz'),
            elements: [
                { data: { id: 'a' } },
                { data: { id: '1' } },
                { data: { id: '2' } },
                { data: { id: '3' } },
                { data: { id: '4' } },
                { data: { id: '5' } },
                { data: { id: '6' } },
                { data: { id: '7' } },
                { data: { id: '8' } },
                { data: { id: '9' } },
                { data: { id: '10' } },
                {
                    data: {
                        id: 'a1',
                        source: 'a',
                        target: '1',
                    }
                },
                {
                    data: {
                        id: 'a2',
                        source: 'a',
                        target: '2',
                    }
                },
                {
                    data: {
                        id: 'a3',
                        source: 'a',
                        target: '3',
                    }
                },
                {
                    data: {
                        id: 'a4',
                        source: 'a',
                        target: '4',
                    }
                },
                {
                    data: {
                        id: 'a5',
                        source: 'a',
                        target: '5',
                    }
                },
                {
                    data: {
                        id: 'a6',
                        source: 'a',
                        target: '6',
                    }
                },
                {
                    data: {
                        id: 'a7',
                        source: 'a',
                        target: '7',
                    }
                },
                {
                    data: {
                        id: 'a8',
                        source: 'a',
                        target: '8',
                    }
                },
                {
                    data: {
                        id: 'a9',
                        source: 'a',
                        target: '9',
                    }
                },
                {
                    data: {
                        id: 'a10',
                        source: 'a',
                        target: '10',
                    }
                }],
            style : [
                {
                    selector: 'node',
                    style: {
                        shape: 'circle',
                        'background-color': 'blue',
                        label: 'data(id)'
                    }
                },
                {
                    selector: '#a',
                    style: {
                        shape: 'circle',
                        'background-color': '#FF9900',
                        label: 'data(id)'
                    }
                }
            ],
            layout: {
                name: 'concentric'
            }
        });
    </script>
    <!-- Reading JSON data -->
    <script>
        fetch('src/4D_repos_metadata.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error('not ok')
                }
                return response.json();
            })
            .then(data => {
                la.$('#a').style('label',data[0]['name']);
                console.log(data[0]['name'])
            })
            .catch(error => {
                console.error(error)
            });
    </script>
</body>
</html>